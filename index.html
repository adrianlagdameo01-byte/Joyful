<!DOCTYPE html>
<html>

<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Operation Win Joy's Heart ğŸ’˜</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    overflow: hidden;
    font-family: 'Press Start 2P', cursive;
    background: black;
    color: white;
    text-align: center;
}

canvas#spaceBG, canvas#fireworksCanvas {
    position: fixed; top:0; left:0; width:100%; height:100%; z-index:-3;
}

.line { opacity: 0; transition: opacity 3s ease; font-size: 1.2em; }
.glow { text-shadow:0 0 15px pink,0 0 25px hotpink,0 0 35px red; }

.heart {
    position:absolute;
    font-size:35px;
    cursor:pointer;
    filter: drop-shadow(0 0 10px #ff69b4) drop-shadow(0 0 20px #ff1493);
}

#score{ font-size:18px; margin-top:10px; }
#gameOver,#finalScreen,#finalLine{ display:none; position:absolute; top:30%; width:100%; }

button{ padding:12px 20px; font-size:14px; border:none; border-radius:25px; margin:10px; cursor:pointer; font-family: 'Press Start 2P', cursive; }
#yesBtn{ background:white; color:hotpink; }
#noBtn{ background:black; color:white; position:absolute; }

.explosion{ position:absolute; font-size:25px; animation:explode 1s ease-out forwards; }

@keyframes explode{ from{transform:scale(1);opacity:1;} to{transform:scale(3);opacity:0;} }
@keyframes floatUp{ from{top:100vh;} to{top:-10vh;} }
@keyframes floatDown{ from{top:-10vh;} to{top:100vh;} }
@keyframes floatLeft{ from{left:100vw;} to{left:-10vw;} }
@keyframes floatRight{ from{left:-10vw;} to{left:100vw;} }

#finalLine{
    font-size:1.3em;
    color:pink;
    text-shadow:0 0 15px pink,0 0 25px hotpink,0 0 35px red;
    opacity:0;
    transition:opacity 3s;
    top:70%;
}
</style>
</head>

<body>

<canvas id="spaceBG"></canvas>
<canvas id="fireworksCanvas"></canvas>

<h1>Operation Win Joy's Heart ğŸ’˜</h1>
<p>Win 14 hearts to win Joy ğŸ˜ŒğŸ’–</p>

<div id="score">Hearts: 0</div>

<audio id="bgMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3" type="audio/mpeg">
</audio>

<div id="gameOver">
    <h2>ğŸ’” GAME OVER ğŸ’”</h2>
    <p>You missed too many hearts...</p>
    <button onclick="continueGame()">Try Again</button>
</div>

<div id="finalScreen">
    <div id="message">
        <div class="line">Joyâ€¦</div>
        <div class="line">You caught the hearts â¤ï¸</div>
        <div class="line">But honestly?</div>
        <div class="line">You already had mine from the beginning.</div>
        <div class="line">Do I have yours too? ğŸ’–</div>
    </div>
    <br>
    <button id="yesBtn" style="display:none;" onclick="yesClicked()">YES ğŸ’–</button>
    <button id="noBtn" style="display:none;">NO ğŸ˜¢</button>
</div>

<div id="finalLine">I'm forever yours Joy â¤ï¸ğŸ’–ğŸ˜ğŸ¥° Happy Heart's Day! ğŸ’˜ğŸ’</div>

<script>

// ğŸŒŒ Space background
const canvas = document.getElementById('spaceBG');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const stars=[];
for(let i=0;i<150;i++){
    stars.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, r:Math.random()*1.2, vx:(Math.random()-0.5)/2, vy:(Math.random()-0.5)/2});
}

const planets=[
  {x:300,y:120,r:50,color:"rgba(255,100,150,0.6)",vx:0.03,vy:0.02},
  {x:800,y:450,r:70,color:"rgba(100,200,255,0.5)",vx:-0.02,vy:0.01},
  {x:1200,y:220,r:35,color:"rgba(255,255,100,0.5)",vx:0.015,vy:0.02}
];

let shootingStars=[];
for(let i=0;i<3;i++){
    shootingStars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,length:100,speed:Math.random()*6+2,active:false});
}

function drawSpace(){
    const grad=ctx.createRadialGradient(canvas.width/2,canvas.height/2,0,canvas.width/2,canvas.height/2,canvas.width/1.5);
    grad.addColorStop(0,"rgba(255,100,150,0.08)");
    grad.addColorStop(0.5,"rgba(100,150,255,0.05)");
    grad.addColorStop(1,"rgba(0,0,0,0.9)");
    ctx.fillStyle=grad; ctx.fillRect(0,0,canvas.width,canvas.height);

    for(let s of stars){
        ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,Math.PI*2); ctx.fillStyle="white"; ctx.fill();
        s.x+=s.vx;s.y+=s.vy;
        if(s.x<0)s.x=canvas.width;if(s.x>canvas.width)s.x=0;
        if(s.y<0)s.y=canvas.height;if(s.y>canvas.height)s.y=0;
    }

    for(let p of planets){
        ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fillStyle=p.color; ctx.fill();
        p.x+=p.vx;p.y+=p.vy;
    }

    requestAnimationFrame(drawSpace);
}
drawSpace();

// ğŸ® Game Logic
let score=0, heartsMissed=0, gameStopped=false, gameWon=false;
const music=document.getElementById("bgMusic");

document.addEventListener("click",()=>{music.volume=0.6; music.play().catch(()=>{});},{once:true});
document.addEventListener("touchstart",()=>{music.volume=0.6; music.play().catch(()=>{});},{once:true});

function createHeart(){
    if(gameStopped||gameWon) return;

    const heart=document.createElement("div");
    heart.classList.add("heart");
    heart.innerHTML="â¤ï¸";

    const dir=Math.floor(Math.random()*4);
    let duration=3 + Math.random()*1.5;

    if(dir===0){ heart.style.left=30+Math.random()*40+"vw"; heart.style.animation=`floatUp ${duration}s linear forwards`; }
    if(dir===1){ heart.style.left=30+Math.random()*40+"vw"; heart.style.animation=`floatDown ${duration}s linear forwards`; }
    if(dir===2){ heart.style.top=20+Math.random()*60+"vh"; heart.style.animation=`floatLeft ${duration}s linear forwards`; }
    if(dir===3){ heart.style.top=20+Math.random()*60+"vh"; heart.style.animation=`floatRight ${duration}s linear forwards`; }

    heart.onclick=function(){
        score++;
        document.getElementById("score").innerText="Hearts: "+score;
        heart.remove();
        if(score>=14) endGame();
    };

    document.body.appendChild(heart);

    setTimeout(()=>{
        if(heart.parentNode){
            heart.remove();
            heartsMissed++;
            if(heartsMissed>=5&&!gameWon) showGameOver();
        }
    },8000);
}

function showGameOver(){
    score=0;
    heartsMissed=0;
    document.getElementById("score").innerText="Hearts: 0";
    gameStopped=true;
    document.getElementById("gameOver").style.display="block";
}

function continueGame(){
    gameStopped=false;
    document.getElementById("gameOver").style.display="none";
}

function endGame(){
    gameWon=true;
    gameStopped=true;
    document.getElementById("finalScreen").style.display="block";
}

function yesClicked(){
    alert("I'm forever yours Joy â¤ï¸ğŸ’–ğŸ˜ğŸ¥° Happy Heart's Day! ğŸ’˜ğŸ’");
}

setInterval(createHeart,1150);

</script>

</body>
</html>
